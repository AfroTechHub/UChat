"use client"

import type React from "react"

import { Popover, PopoverContent, PopoverTrigger } from "@/components/ui/popover"
import { Button } from "@/components/ui/button"
import { useState } from "react"

interface EmojiPickerProps {
  children: React.ReactNode
  onEmojiSelect: (emoji: string) => void
}

const emojis = [
  "ðŸ˜€",
  "ðŸ˜ƒ",
  "ðŸ˜„",
  "ðŸ˜",
  "ðŸ˜†",
  "ðŸ˜…",
  "ðŸ¤£",
  "ðŸ˜‚",
  "ðŸ™‚",
  "ðŸ™ƒ",
  "ðŸ˜‰",
  "ðŸ˜Š",
  "ðŸ˜‡",
  "ðŸ¥°",
  "ðŸ˜",
  "ðŸ¤©",
  "ðŸ˜˜",
  "ðŸ˜—",
  "ðŸ˜š",
  "ðŸ˜™",
  "ðŸ˜‹",
  "ðŸ˜›",
  "ðŸ˜œ",
  "ðŸ¤ª",
  "ðŸ˜",
  "ðŸ¤‘",
  "ðŸ¤—",
  "ðŸ¤­",
  "ðŸ¤«",
  "ðŸ¤”",
  "ðŸ¤",
  "ðŸ¤¨",
  "ðŸ˜",
  "ðŸ˜‘",
  "ðŸ˜¶",
  "ðŸ˜",
  "ðŸ˜’",
  "ðŸ™„",
  "ðŸ˜¬",
  "ðŸ¤¥",
  "ðŸ˜Œ",
  "ðŸ˜”",
  "ðŸ˜ª",
  "ðŸ¤¤",
  "ðŸ˜´",
  "ðŸ˜·",
  "ðŸ¤’",
  "ðŸ¤•",
  "ðŸ¤¢",
  "ðŸ¤®",
  "ðŸ¤§",
  "ðŸ¥µ",
  "ðŸ¥¶",
  "ðŸ¥´",
  "ðŸ˜µ",
  "ðŸ¤¯",
  "ðŸ¤ ",
  "ðŸ¥³",
  "ðŸ˜Ž",
  "ðŸ¤“",
  "ðŸ§",
  "ðŸ˜•",
  "ðŸ˜Ÿ",
  "ðŸ™",
  "â˜¹ï¸",
  "ðŸ˜®",
  "ðŸ˜¯",
  "ðŸ˜²",
  "ðŸ˜³",
  "ðŸ¥º",
  "ðŸ˜¦",
  "ðŸ˜§",
  "ðŸ˜¨",
  "ðŸ˜°",
  "ðŸ˜¥",
  "ðŸ˜¢",
  "ðŸ˜­",
  "ðŸ˜±",
  "ðŸ˜–",
  "ðŸ˜£",
  "ðŸ˜ž",
  "ðŸ˜“",
  "ðŸ˜©",
  "ðŸ˜«",
  "ðŸ˜¤",
  "ðŸ˜¡",
  "ðŸ˜ ",
  "ðŸ¤¬",
  "ðŸ˜ˆ",
  "ðŸ‘¿",
  "ðŸ’€",
  "â˜ ï¸",
  "ðŸ’©",
  "ðŸ¤¡",
  "ðŸ‘¹",
  "ðŸ‘º",
  "ðŸ‘»",
  "ðŸ‘½",
  "ðŸ‘¾",
  "ðŸ¤–",
  "ðŸ˜º",
  "ðŸ˜¸",
  "ðŸ˜¹",
  "ðŸ˜»",
  "ðŸ˜¼",
  "ðŸ˜½",
  "ðŸ™€",
  "ðŸ˜¿",
  "ðŸ˜¾",
  "ðŸ‘‹",
  "ðŸ¤š",
  "ðŸ–ï¸",
  "âœ‹",
  "ðŸ––",
  "ðŸ‘Œ",
  "ðŸ¤",
  "âœŒï¸",
  "ðŸ¤ž",
  "ðŸ¤Ÿ",
  "ðŸ¤˜",
  "ðŸ¤™",
  "ðŸ‘ˆ",
  "ðŸ‘‰",
  "ðŸ‘†",
  "ðŸ–•",
  "ðŸ‘‡",
  "â˜ï¸",
  "ðŸ‘",
  "ðŸ‘Ž",
  "âœŠ",
  "ðŸ‘Š",
  "ðŸ¤›",
  "ðŸ¤œ",
  "ðŸ‘",
  "ðŸ™Œ",
  "ðŸ‘",
  "ðŸ¤²",
  "ðŸ¤",
  "ðŸ™",
  "âœï¸",
  "ðŸ’…",
  "ðŸ¤³",
  "ðŸ’ª",
  "ðŸ¦µ",
  "ðŸ¦¶",
  "ðŸ‘‚",
  "ðŸ‘ƒ",
  "ðŸ§ ",
  "ðŸ«€",
  "ðŸ«",
  "ðŸ¦·",
  "ðŸ¦´",
  "ðŸ‘€",
  "ðŸ‘ï¸",
  "ðŸ‘…",
  "ðŸ‘„",
  "ðŸ‘¶",
  "ðŸ§’",
  "ðŸ‘¦",
  "ðŸ‘§",
  "ðŸ§‘",
  "ðŸ‘±",
  "ðŸ‘¨",
  "ðŸ§”",
  "ðŸ‘´",
  "ðŸ‘µ",
  "ðŸ§“",
  "ðŸ™",
  "ðŸ™Ž",
  "ðŸ™…",
  "ðŸ™†",
  "ðŸ’",
  "ðŸ™‹",
  "ðŸ§",
  "ðŸ™‡",
  "ðŸ¤¦",
  "ðŸ¤·",
  "ðŸ§‘â€âš•ï¸",
  "ðŸ§‘â€ðŸŽ“",
  "ðŸ§‘â€ðŸ«",
  "ðŸ§‘â€âš–ï¸",
  "ðŸ§‘â€ðŸŒ¾",
  "ðŸ§‘â€ðŸ³",
  "ðŸ§‘â€ðŸ”§",
  "ðŸ§‘â€ðŸ­",
  "ðŸ§‘â€ðŸ’¼",
  "ðŸ§‘â€ðŸ”¬",
  "ðŸ§‘â€ðŸ’»",
  "ðŸ§‘â€ðŸŽ¤",
  "ðŸ§‘â€ðŸŽ¨",
  "ðŸ§‘â€âœˆï¸",
  "ðŸ§‘â€ðŸš€",
  "ðŸ§‘â€ðŸš’",
  "ðŸ‘®",
  "ðŸ•µï¸",
  "ðŸ’‚",
  "ðŸ‘·",
  "ðŸ¤´",
  "ðŸ‘¸",
  "ðŸ‘³",
  "ðŸ‘²",
  "ðŸ§•",
  "ðŸ¤µ",
  "ðŸ‘°",
  "ðŸ¤°",
  "ðŸ¤±",
  "ðŸ‘¼",
  "ðŸŽ…",
  "ðŸ¤¶",
  "ðŸ¦¸",
  "ðŸ¦¹",
  "ðŸ§™",
  "ðŸ§š",
  "ðŸ§›",
  "ðŸ§œ",
  "ðŸ§",
  "ðŸ§ž",
  "ðŸ§Ÿ",
  "ðŸ«‚",
  "ðŸ—£ï¸",
  "ðŸ‘¤",
  "ðŸ‘¥",
  "ðŸ«‚",
  "ðŸ‘£",
  "ðŸµ",
  "ðŸ’",
  "ðŸ¦",
  "ðŸ¦§",
  "ðŸ¶",
  "ðŸ•",
  "ðŸ¦®",
  "ðŸ•â€ðŸ¦º",
  "ðŸ©",
  "ðŸº",
  "ðŸ¦Š",
  "ðŸ¦",
  "ðŸ±",
  "ðŸˆ",
  "ðŸˆâ€â¬›",
  "ðŸ¦",
  "ðŸ¯",
  "ðŸ…",
  "ðŸ†",
  "ðŸ´",
  "ðŸŽ",
  "ðŸ¦„",
  "ðŸ¦“",
  "ðŸ¦Œ",
  "ðŸ®",
  "ðŸ‚",
  "ðŸƒ",
  "ðŸ„",
  "ðŸ·",
  "ðŸ–",
  "ðŸ—",
  "ðŸ½",
  "ðŸ",
  "ðŸ‘",
  "ðŸ",
  "ðŸª",
  "ðŸ«",
  "ðŸ¦™",
  "ðŸ¦’",
  "ðŸ˜",
  "ðŸ¦£",
  "ðŸ¦",
  "ðŸ¦›",
  "ðŸ­",
  "ðŸ",
  "ðŸ€",
  "ðŸ¹",
  "ðŸ°",
  "ðŸ‡",
  "ðŸ¿ï¸",
  "ðŸ¦«",
  " hedgehogs",
  "ðŸ¦‡",
  "ðŸ»",
  "ðŸ¨",
  "ðŸ¼",
  "ðŸ¦¥",
  "ðŸ¦¦",
  "ðŸ¦¨",
  "ðŸ¦˜",
  "ðŸ¦¡",
  "ðŸ¾",
  "ðŸ¦ƒ",
  "ðŸ”",
  "ðŸ“",
  "ðŸ£",
  "ðŸ¤",
  "ðŸ¥",
  "ðŸ¦",
  "ðŸ§",
  "ðŸ•Šï¸",
  "ðŸ¦…",
  "ðŸ¦†",
  "ðŸ¦¢",
  "ðŸ¦‰",
  "ðŸ¦©",
  "ðŸ¦š",
  "ðŸ¦œ",
  "ðŸ¸",
  "ðŸŠ",
  "ðŸ¢",
  "ðŸ¦Ž",
  "ðŸ",
  "ðŸ²",
  "ðŸ‰",
  "ðŸ¦•",
  "ðŸ¦–",
  "ðŸ³",
  "ðŸ‹",
  "ðŸ¬",
  "ðŸ¦­",
  "ðŸŸ",
  "ðŸ ",
  "ðŸ¡",
  "ðŸ¦ˆ",
  "ðŸ™",
  "ðŸš",
  "ðŸŒ",
  "ðŸ¦‹",
  "ðŸ›",
  "ðŸœ",
  "ðŸ",
  "ðŸž",
  "ðŸ¦—",
  "ðŸ•·ï¸",
  "ðŸ•¸ï¸",
  "ðŸ¦‚",
  "ðŸ¦Ÿ",
  "ðŸª°",
  "ðŸª±",
  "ðŸ¦ ",
  "ðŸ’",
  "ðŸŒ¸",
  "ðŸ’®",
  "ðŸµï¸",
  "ðŸŒ¹",
  "ðŸ¥€",
  "ðŸŒº",
  "ðŸŒ»",
  "ðŸŒ¼",
  "ðŸŒ·",
  "ðŸŒ±",
  "ðŸŒ²",
  "ðŸŒ³",
  "ðŸŒ´",
  "ðŸŒµ",
  "ðŸŒ¾",
  "ðŸŒ¿",
  "â˜˜ï¸",
  "ðŸ€",
  "ðŸ",
  "ðŸ‚",
  "ðŸƒ",
  "ðŸ„",
  "ðŸŒ°",
  "ðŸŒŽ",
  "ðŸŒ",
  "ðŸŒ",
  "ðŸŒ•",
  "ðŸŒ–",
  "ðŸŒ—",
  "ðŸŒ˜",
  "ðŸŒ‘",
  "ðŸŒ’",
  "ðŸŒ“",
  "ðŸŒ”",
  "ðŸŒ™",
  "ðŸŒš",
  "ðŸŒ›",
  "ðŸŒœ",
  "â˜€ï¸",
  "ðŸŒ",
  "ðŸŒž",
  "ðŸŒŸ",
  "ðŸ’«",
  "âœ¨",
  "âš¡",
  "ðŸ”¥",
  "ðŸ’¥",
  "â˜„ï¸",
  "ðŸŒªï¸",
  "ðŸŒˆ",
  "â˜ï¸",
  "â˜”",
  "ðŸ’§",
  "ðŸ’¦",
  "ðŸŒŠ",
  "ðŸŒ¬ï¸",
  "ðŸ’¨",
  "â„ï¸",
  "â˜ƒï¸",
  "â›„",
  "ðŸ§Š",
  "ðŸŒ‹",
  "ðŸŒŒ",
  "ðŸŒ ",
  "ðŸŒ†",
  "ðŸŒ‡",
  "ðŸŒ‰",
  "ðŸŒƒ",
  "ðŸŒ„",
  "ðŸŒ…",
  "ðŸžï¸",
  "ðŸŽ‘",
  "ðŸ™ï¸",
  "ðŸ­",
  "ðŸ›ï¸",
  "ðŸ—ï¸",
  "ðŸ˜ï¸",
  "ðŸ ",
  "ðŸ¡",
  "ðŸ¢",
  "ðŸ£",
  "ðŸ¤",
  "ðŸ¥",
  "ðŸ¦",
  "ðŸ¨",
  "ðŸ©",
  "ðŸª",
  "ðŸ«",
  "ðŸ¬",
  "ðŸŸï¸",
  "â›ª",
  "ðŸ•Œ",
  "ðŸ›•",
  "ðŸ•",
  "â›©ï¸",
  "ðŸ•‹",
  "â›²",
  "â›º",
  "ðŸŒ",
  "ðŸ›£ï¸",
  " railway_track",
  "ðŸ›¤ï¸",
  "ðŸš¢",
  "ðŸ›³ï¸",
  "ðŸš¤",
  "ðŸ›¥ï¸",
  "â›´ï¸",
  "âš“",
  "ðŸ›Ÿ",
  "ðŸ›¶",
  "â›µ",
  "ðŸš",
  "ðŸ›©ï¸",
  "âœˆï¸",
  "ðŸ›«",
  "ðŸ›¬",
  "ðŸš€",
  "ðŸ›°ï¸",
  "ðŸ’º",
  "ðŸš ",
  "ðŸš¡",
  "ðŸšŸ",
  "ðŸšƒ",
  "ðŸš‹",
  "ðŸšž",
  "ðŸš",
  "ðŸš„",
  "ðŸš…",
  "ðŸšˆ",
  "ðŸš‚",
  "ðŸš†",
  "ðŸš‡",
  "ðŸšŠ",
  "ðŸš‰",
  "ðŸšŒ",
  "ðŸš",
  "ðŸšŽ",
  "ðŸš",
  "ðŸš‘",
  "ðŸš’",
  "ðŸš“",
  "ðŸš”",
  "ðŸš•",
  "ðŸš–",
  "ðŸš—",
  "ðŸš˜",
  "ðŸš™",
  "ðŸšš",
  "ðŸš›",
  "ðŸšœ",
  "ðŸŽï¸",
  "ðŸï¸",
  "ðŸ›µ",
  "ðŸ›º",
  "ðŸš²",
  "ðŸ›´",
  "ðŸ›¹",
  "ðŸ›¼",
  "ðŸš",
  "ðŸ›£ï¸",
  "ðŸš¦",
  "ðŸš¥",
  "ðŸš§",
  "ðŸš¨",
  "â›½",
  "ðŸ…¿ï¸",
  "ðŸ›‘",
  "ðŸš§",
  "âš“",
  "â›µ",
  "ðŸ›¶",
  "ðŸš¤",
  "ðŸ›¥ï¸",
  "ðŸ›³ï¸",
  "ðŸš¢",
  "âœˆï¸",
  "ðŸ›©ï¸",
  "ðŸ›«",
  "ðŸ›¬",
  "ðŸ’º",
  "ðŸ›°ï¸",
  "ðŸš€",
  "ðŸ›¸",
  "ðŸš",
  "ðŸš‚",
  "ðŸšƒ",
  "ðŸš„",
  "ðŸš…",
  "ðŸš†",
  "ðŸš‡",
  "ðŸšˆ",
  "ðŸš‰",
  "ðŸšŠ",
  "ðŸš‹",
  "ðŸšŒ",
  "ðŸš",
  "ðŸšŽ",
  "ðŸš",
  "ðŸš‘",
  "ðŸš’",
  "ðŸš“",
  "ðŸš”",
  "ðŸš•",
  "ðŸš–",
  "ðŸš—",
  "ðŸš˜",
  "ðŸš™",
  "ðŸšš",
  "ðŸš›",
  "ðŸšœ",
  "ðŸŽï¸",
  "ðŸï¸",
  "ðŸ›µ",
  "ðŸ›º",
  "ðŸš²",
  "ðŸ›´",
  "ðŸ›¹",
  "ðŸ›¼",
  "ðŸš",
  "ðŸ›£ï¸",
  "ðŸš¦",
  "ðŸš¥",
  "ðŸš§",
  "ðŸš¨",
  "â›½",
  "ðŸ…¿ï¸",
  "ðŸ›‘",
  "ðŸš§",
]

export function EmojiPicker({ children, onEmojiSelect }: EmojiPickerProps) {
  const [isOpen, setIsOpen] = useState(false)

  const handleEmojiClick = (emoji: string) => {
    onEmojiSelect(emoji)
    setIsOpen(false) // Close popover after selecting an emoji
  }

  return (
    <Popover open={isOpen} onOpenChange={setIsOpen}>
      <PopoverTrigger asChild>{children}</PopoverTrigger>
      <PopoverContent className="w-80 p-2 grid grid-cols-8 gap-1 overflow-y-auto max-h-60">
        {emojis.map((emoji, index) => (
          <Button
            key={index}
            variant="ghost"
            size="icon"
            className="text-xl p-0 h-8 w-8 flex items-center justify-center"
            onClick={() => handleEmojiClick(emoji)}
          >
            {emoji}
          </Button>
        ))}
      </PopoverContent>
    </Popover>
  )
}
